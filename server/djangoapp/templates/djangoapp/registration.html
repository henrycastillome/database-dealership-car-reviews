{% extends 'djangoapp/navbar.html' %}

{% block title %}Registration{% endblock %}

{% block content %}


<section class="template">
    <div class="card">
        <article class="card-body">
            <h4 class="card-title mb-4 mt-1">Registration</h4>
            <form action="{% url 'djangoapp:registration' %}" method="post">
                {% csrf_token %}
                <div class="form-group">
                    <label for="username">User Name</label>
                    <input  id= 'username' class="form-control" placeholder="username" type="text" name="username">
                </div> 
                <!-- form-group// -->
                <div class="form-group">
                    <label for="firstname">First Name</label>
                    <input class="form-control" oninput="checkInput()" placeholder="enter your last name" type="text" name="firstname" id="firstname">
                </div> 
                <!-- form-group// -->
                   <!-- form-group// -->
                <div class="form-group">
                    <label for="lasttname">Last Name</label>
                    <input class="form-control" oninput="checkInput()" placeholder="Enter your last name" type="text" name="lastname" id="lastname">
                </div> 
                <!-- form-group// -->
                  <!-- form-group// -->
                  <div class="form-group">
                    <label for="psw">Password</label>
                    <input class="form-control" placeholder="Enter password" type="password" name="psw" id="psw">
                </div> 
                <!-- form-group// -->
                <!-- form-group// -->
                <div class="form-group">
                    <label for="lasttname">Confirm Password</label>
                    <input class="form-control" placeholder="Re-enter password" type="password" name="cpassword" id="cpassword">
                    <div id="error">
                        <p id="matchpass" class="invalid"></p>
                    </div>
                </div> 
                <!-- form-group// -->
                {% if message %}
                <div class="alert alert-warning"> <!--Style the message paragraph with .alert and .alert-warning class -->
                  {{ message }}
                </div>
              {% endif %}
                <!-- form-group// -->
                <div class="form-group">
                    <button id="submitButton" disabled type="submit" class="btn btn-primary btn-block"> Sign up </button>
                </div> <!-- form-group// -->
            </form>
        </article>
    </div> <!-- card.// -->
</section>

    <script>
        var username=document.getElementById('username')
        var firstname=document.getElementById('firstname')
        var lastname=document.getElementById('lastname')
        var password1= document.getElementById('psw')
        var password2=document.getElementById('cpassword')
        var submit=document.getElementById('submitButton')
        var isValid=false;
        password1.onblur=validation;
        password2.onblur=validation
        

      function validation (){
            if(password1.value !== password2.value){
            document.getElementById('error').style.display="block"
            document.getElementById('matchpass').classList.remove('valid')
           document.getElementById('matchpass').classList.add('invalid')
            } else{
            document.getElementById('error').style.display="block"
            document.getElementById('matchpass').classList.remove('invalid')
            document.getElementById('matchpass').classList.add('valid')
            isValid=true;
            checkInput()

        }
        }

        function checkInput(){
            if(username.value==="" || firstname.value==="" || lastname.value==="" || !isValid ){
                submit.disabled=true
            } else{
                submit.disabled=false
            }
        }



       
    
        
    </script>

{% endblock %}

